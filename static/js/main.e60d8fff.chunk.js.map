{"version":3,"sources":["shared/metaMaskLogo.png","githubSmall.png","context/MainContext.js","context/MainProvider.js","context/SignInfoContext.js","context/SignInfoProvider.js","utils/getWeb3.js","utils/helper.js","utils/initWeb3.js","deployDoc/NextButton.js","utils/hashUnique.js","deployDoc/FileToHash.js","utils/validateForm.js","deployDoc/Checkbox.js","utils/getContextValues.js","deployDoc/SignerListForm.js","deployDoc/ExpiryDate.js","utils/getSignData.js","deployDoc/SignHash.js","deployDoc/VerifyAndDeploy.js","shared/DownloadMetaMask.js","deployDoc/DeployDoc.js","shared/HashFile.js","utils/InputHashValid.js","shared/InputAndGetInfo.js","shared/DisplayInfo.js","signDoc/SignDoc.js","docInfo/DocInfo.js","deployDoc/Loading.js","deployDoc/Status.js","HomeApp.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","MainContext","React","createContext","MainProvider","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateHashOutput","hashOutput","fileName","newState","objectSpread","loadWeb3","web3","contract","networkId","account","hashFile","nextBtn","value","disable","signHash","signData","r","s","v","docHash","signature","signerListForm","signerInfo","anyError","displayAddBtn","checkbox","name","firstLabel","secondLabel","values","expiryDate","selectedDate","unixDate","verifyAndDeploy","txHash","updaterFunction","state","setState","updateSignerListCheckBox","checkboxValues","slf","slFirstLabel","slSecondLabel","slFirstValue","slSecondValue","length","intializeForm","error","window","confirm","resetSignerListCheckBox","concat","toConsumableArray","address","openSig","resetExpiryDate","updateExpiryDate","updateSignerListForm","updateLoadWeb3","web3Data","updateSignHash","updateNextButton","toUpdate","reset","arguments","undefined","stateValue","Error","defineProperty","updateVerifyAndDeploy","vd","redirectToStatus","resetState","history","push","pathname","react_default","a","createElement","Provider","children","Component","Consumer","SignInfoContext","SignInfoProvider","updateUploadHash","uploadHash","inputHash","inputHashError","docData","creatorAddress","creationDate","authorisedSigners","whoSigned","signedAccount","updateInputHash","updateDocData","updateSignData","updateHashAndReset","SignInfoConsumer","getWeb3","_ref","asyncToGenerator","regenerator_default","mark","_callee","provider","_web","LoadProvider","_web2","_args","wrap","_context","prev","next","ethereum","Web3","enable","abrupt","t0","console","log","providers","HttpProvider","alert","stop","apply","failWeb3Msg","hasKey","obj","key","hasOwnProperty","accessMsg","step","proceedMsg","makeSignerList","signerList","i","liveProd","deployedNetwork","instance","_loadWeb","sent","eth","net","getId","id","SignTheDoc","networks","Contract","abi","getCoinbase","_x","checkWeb3","_ref2","_callee2","context","_context2","_x2","NextButton","updateMainContext","btnDisable","onClick","disabled","hash","getDocData","methods","from","contextType","isHashUnique","FileToHash","progress","userConsent","event","file","target","files","handleChange","reader","FileReader","end","start","total","size","current","keccak256","self","assertThisInitialized","onload","update","result","asyncUpdate","e","progressInfo","toFixed","Math","min","readAsArrayBuffer","slice","hex","nextBtnValue","_this$context$loadWeb","unique","showProgress","deployDoc_NextButton","type","onChange","validateForm","signerAddress","trim","prefix","errorMsg","test","hasSpace","isAddressValid","allCaps","allLower","utils","checkAddressChecksum","isAddressUnique","setRestFalse","setKey","handleInputChange","checkboxName","updateCheckBoxContext","data","updateFunction","firstValue","secondValue","checked","getCheckbox","label","loadName","hasError","arrObj","targetId","dataset","className","validate","checkBoxLogic","addAddress","deleteAddress","splice","handleSubmit","preventDefault","addNewBtn","signerListRender","_this2","_context$signerListFo","Checkbox","emptyErr","style","color","addressForm","onSubmit","map","val","idx","signerId","htmlFor","data-id","placeholder","ExpiryDate","date","inputDate","moment","toDate","unix","handleClick","showNext","dateField","showCheckbox","exFirstValue","exSecondValue","slNextBtn","currentDate","es","selected","showTimeSelect","timeFormat","timeIntervals","dateFormat","minDate","timeCaption","format","v_decimal","personal","sign","substr","toDecimal","getSignData","SignHash","currentAccount","showResult","VerifyAndDeploy","deploy","currentContext","_context$loadWeb","_context$signHash","diffInMinutes","finalExpDate","diff","createDocToSign","send","on","redirect","catch","renderHashOutput","renderAccount","renderSignature","renderSignerList","renderDate","blockMsg","expDate","exNextBtn","signer","index","toString","withRouter","DownloadMetaMask","href","rel","src","metaMaskLogo","alt","width","height","DeployDoc","componentDidMount","deployDoc_FileToHash","deployDoc_SignHash","SignerListForm","deployDoc_ExpiryDate","deployDoc_VerifyAndDeploy","initState","HashFile","componentDidUpdate","prevProps","_this$state","updaterFunc","updateContextHashOutput","_this$state2","inputHashValid","isHashValid","InputAndGetInfo","hashStateKey","getData","trimValue","shared_HashFile","RenderDocInfo","keys","loadData","convertDate","loadDate","toNumber","signDoc","_this$context","allAccounts","diffDate","authList","currentHash","getAccounts","includes","deployClick","_callee3","_context3","signTheDoc","JSON","stringify","signProcess","_this$context2","shared_InputAndGetInfo","DocInfo","displayInfo","Loading","loadingMsg","loading","setInterval","clearInterval","getTxData","receipt","getTransactionReceipt","Status","network","getHash","location","getNetworkType","timer","then","networkLink","fullLink","showLoading","getNetwork","link","idToName","deployDoc_Loading","react_router_dom","to","Home","githubLogo","Page404","HomeApp","basename","process","MainProvider_MainProvider","SignInfoProvider_SignInfoProvider","exact","activeClassName","react_router","path","component","Boolean","hostname","match","ReactDOM","render","src_HomeApp","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e60d8fff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/metaMaskLogo.e16c8640.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","import React from 'react';\n\nexport function initState() {\n  return {\n    loadWeb3: {\n      web3: null,\n      contract: null,\n      networkId: null,\n      account: null\n    },\n    hashFile: {\n      hashOutput: null,\n      nextBtn: {\n        value: false,\n        disable: false\n      }\n    },\n    signHash: {\n      account: null,\n      signData: {\n        r: null,\n        s: null,\n        v: null,\n        docHash: null,\n        signature: null\n      },\n      nextBtn: {\n        value: false,\n        disable: false\n      }\n    },\n    signerListForm: {\n      signerInfo: [],\n      anyError: true,\n      displayAddBtn: false,\n      checkbox: {\n        name: {\n          firstLabel: 'only authorised signers',\n          secondLabel: 'anyone can sign'\n        },\n        values: {}\n      },\n      nextBtn: {\n        value: false,\n        disable: false\n      }\n    },\n    expiryDate: {\n      selectedDate: null,\n      // default value is set to negative which\n      unixDate: null,\n      checkbox: {\n        name: {\n          firstLabel: 'yes',\n          secondLabel: 'no'\n        },\n        values: {}\n      },\n      nextBtn: {\n        value: false,\n        disable: false\n      }\n    },\n    verifyAndDeploy: {\n      txHash: ''\n    }\n  }\n}\n\nexport const MainContext = React.createContext({});\n\n","import React from 'react';\nimport { initState, MainContext } from './MainContext';\n\nclass MainProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateHashOutput = (hashOutput, fileName) => {\n      let newState = {\n        ...initState(),\n        ...this.updaterFunction\n      };\n      newState.loadWeb3 = this.state.loadWeb3;\n      newState.hashFile.hashOutput = hashOutput;\n      newState.hashFile.fileName = fileName;\n      this.setState(newState);\n    };\n\n    this.updateSignerListCheckBox = (checkboxValues) => {\n\n      //signerListForm(slf)\n      let slf = this.state.signerListForm;\n\n      //Todo:\n      //Use getCheckBox\n      const signerInfo = slf.signerInfo;\n      const slFirstLabel = slf.checkbox.name.firstLabel;\n      const slSecondLabel = slf.checkbox.name.secondLabel;\n      const slFirstValue = checkboxValues[slFirstLabel];\n      const slSecondValue = checkboxValues[slSecondLabel];\n\n      if (slFirstValue && signerInfo.length === 0) {\n\n        // slf.checkbox.values = checkboxValues;\n        this.intializeForm(checkboxValues);\n      } else if (slSecondValue && signerInfo.length && !signerInfo[0].error) {\n        if (window.confirm('Warning: All entered address will be reset')) {\n          this.resetSignerListCheckBox(checkboxValues);\n        }\n      } else {\n        this.resetSignerListCheckBox(checkboxValues);\n      }\n    };\n\n    this.resetSignerListCheckBox = (checkboxValues) => {\n      let newState = {\n        ...initState(),\n        ...this.updaterFunction\n      };\n      //Load web3 state\n      newState.loadWeb3 = this.state.loadWeb3;\n      newState.hashFile = this.state.hashFile;\n      newState.signHash = this.state.signHash;\n      newState.signerListForm.checkbox.values = checkboxValues;\n\n      this.setState(newState);\n    };\n\n    this.intializeForm = (checkboxValues) => {\n      let newState = {\n        ...initState(),\n        ...this.updaterFunction\n      };\n      //Load web3 state\n      newState.loadWeb3 = this.state.loadWeb3;\n      newState.hashFile = this.state.hashFile;\n      newState.signHash = this.state.signHash;\n\n      newState.signerListForm.checkbox.values = checkboxValues;\n\n      /*\n      It is the initialization process of address input field.\n      During initialization process Add New Signer button is enabled and shown.\n      The state doesn't have any entry of signer address yet.\n      */\n\n      //Error key is set to true because empty address is consider invalid.\n      const newField = { address: '', error: true };\n\n      //Display first input field.\n      newState.signerListForm.signerInfo = [...newState.signerListForm.signerInfo, newField];\n\n      //Show Add New Signer button.\n      newState.signerListForm.displayAddBtn = true;\n      newState.signerListForm.openSig = false;\n\n      this.setState(newState)\n    }\n\n    this.resetExpiryDate = (checkboxValues) => {\n      let newState = {\n        ...initState(),\n        ...this.updaterFunction\n      };\n      //Load web3 state\n      newState.loadWeb3 = this.state.loadWeb3;\n      newState.hashFile = this.state.hashFile;\n      newState.signHash = this.state.signHash;\n      newState.signerListForm = this.state.signerListForm;\n      newState.expiryDate.checkbox.values = checkboxValues;\n\n      this.setState(newState);\n    };\n\n    this.updateExpiryDate = (expiryDate) => {\n      this.setState({\n        expiryDate: expiryDate\n      });\n    };\n\n    this.updateSignerListForm = (signerListForm) => {\n      const signerInfo = this.state.signerListForm.signerInfo;\n\n      // When last remaining entered address is removed.\n      // SignerListForm checkbox value is restored to it's original state.\n      if (signerInfo.length === 0) {\n        const checkboxValues = {};\n        this.resetSignerListCheckBox(checkboxValues);\n      }\n\n      this.setState({\n        signerListForm: signerListForm\n      });\n    };\n\n    this.updateLoadWeb3 = (web3Data) => {\n      this.setState({ loadWeb3: web3Data });\n    };\n\n    this.updateSignHash = (signData, account) => {\n      const signHash = { ...this.state.signHash };\n      signHash.signData = signData;\n      signHash.account = account;\n      this.setState({ signHash });\n    }\n\n    this.updateNextButton = (toUpdate, reset = false) => {\n      let stateValue = this.state[toUpdate];\n\n      if (!stateValue) {\n        throw new Error(`${toUpdate} key doesn't exit in state`);\n      } else if (!reset) {\n        stateValue.nextBtn.value = true;\n        stateValue.nextBtn.disable = true;\n        this.setState({\n          [toUpdate]: stateValue\n        });\n      } else if (reset) {\n        stateValue.nextBtn.value = false;\n        stateValue.nextBtn.disable = false;\n      }\n    }\n\n    this.updateVerifyAndDeploy = (txHash) => {\n      //VerifyAndDeploy\n      let vd = { ...this.state.verifyAndDeploy };\n      vd.txHash = txHash;\n\n      // Reset state and only update VerifyAndDeploy state.\n      this.setState({\n        verifyAndDeploy: vd,\n      }, () => this.redirectToStatus());\n    }\n\n    this.resetState = () => {\n      const loadWeb3 = { ...this.state };\n      this.setState({\n        ...initState(),\n        loadWeb3: loadWeb3\n      });\n    }\n\n    this.updaterFunction = {\n      updateLoadWeb3: this.updateLoadWeb3,\n      updateHashOutput: this.updateHashOutput,\n      updateSignerListCheckBox: this.updateSignerListCheckBox,\n      resetExpiryDate: this.resetExpiryDate,\n      updateSignerListForm: this.updateSignerListForm,\n      updateExpiryDate: this.updateExpiryDate,\n      updateSignHash: this.updateSignHash,\n      updateNextButton: this.updateNextButton,\n      updateVerifyAndDeploy: this.updateVerifyAndDeploy,\n      resetState: this.resetState\n    }\n\n    this.state = {\n      ...initState(),\n      ...this.updaterFunction\n    };\n\n    this.redirectToStatus = () => {\n      const state = this.state;\n      const txHash = state.verifyAndDeploy.txHash;\n      const web3 = state.loadWeb3.web3;\n      this.props.history.push({\n        pathname: '/status',\n        txHash: txHash,\n        web3: web3\n      });\n    }\n  }\n  render() {\n    // console.log(\"+++++++Main State++++++++\", this.state);\n    return (\n      <div>\n        <MainContext.Provider value={this.state}>\n          {this.props.children}\n        </MainContext.Provider>\n      </div >\n    );\n  }\n}\n\nconst MainConsumer = MainContext.Consumer;\n\nexport { MainProvider, MainConsumer }\n\n","import React from 'react';\n\nexport function docDataState() {\n    return {\n        loadWeb3: {\n            web3: '',\n            contract: '',\n            account: '',\n            networkId: ''\n        },\n        uploadHash: '',\n        inputHash: '',\n        inputHashError: '',\n        fileName: '',\n        docData: {\n            docHash: '',\n            creatorAddress: '',\n            expiryDate: '',\n            creationDate: '',\n            signature: '',\n            authorisedSigners: [],\n            whoSigned: []\n        },\n        signData: {\n            r: null,\n            s: null,\n            v: null,\n            docHash: null,\n            signature: null,\n            signedAccount: null\n        }\n    }\n}\n\nexport const SignInfoContext = React.createContext({});\n","import React from 'react';\nimport { docDataState, SignInfoContext } from './SignInfoContext';\n\nclass SignInfoProvider extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.updateLoadWeb3 = (web3Data) => {\n            this.setState({\n                loadWeb3: web3Data\n            });\n        }\n\n        this.updateUploadHash = (hashOutput, fileName) => {\n            const { loadWeb3 } = this.state;\n            this.setState({\n                ...docDataState(),\n                loadWeb3: loadWeb3,\n                uploadHash: hashOutput,\n                fileName: fileName\n            });\n        }\n\n        this.updateInputHash = (hashOutput, error) => {\n            const { uploadHash } = this.state;\n            /*\n             Todo: \n             There is no point of updating inputHashError with empty string('') if \n             it's value is set to empty string already.\n\n             Break this function to make it simpler.\n            */\n            if (uploadHash && error) {\n                this.setState({\n                    ...docDataState(),\n                    inputHash: hashOutput,\n                    inputHashError: error\n                });\n            } else if (uploadHash && !error) {\n                this.setState({\n                    ...docDataState(),\n                    inputHash: hashOutput,\n                    inputHashError: ''\n                });\n            } else if (!uploadHash && error) {\n                this.setState({\n                    inputHash: hashOutput,\n                    inputHashError: error\n                });\n            } else if (!uploadHash && !error) {\n                this.setState({\n                    inputHash: hashOutput,\n                    inputHashError: ''\n                });\n            }\n        }\n\n        this.updateDocData = (docData) => {\n            this.setState({\n                docData: docData\n            });\n        }\n\n        this.resetState = () => {\n            let loadWeb3 = { ...this.state.loadWeb3 };\n            this.setState({\n                ...docDataState(),\n                loadWeb3: loadWeb3\n            });\n        }\n\n        this.updateSignData = (signData) => {\n            this.setState({\n                signData: signData\n            });\n        }\n\n        this.updaterFunction = {\n            updateLoadWeb3: this.updateLoadWeb3,\n            updateInputHash: this.updateInputHash,\n            updateUploadHash: this.updateUploadHash,\n            updateDocData: this.updateDocData,\n            updateHashAndReset: this.updateHashAndReset,\n            updateSignData: this.updateSignData,\n            resetState: this.resetState\n        }\n        this.state = {\n            ...docDataState(),\n            ...this.updaterFunction\n        };\n    }\n\n    render() {\n        // console.log(\"+++++++SignInfo state++++++++\", this.state);\n        return (\n            <div>\n                <SignInfoContext.Provider value={this.state}>\n                    {this.props.children}\n                </SignInfoContext.Provider>\n            </div >\n        );\n    }\n}\n\nconst SignInfoConsumer = SignInfoContext.Consumer;\n\nexport { SignInfoProvider, SignInfoConsumer }","import Web3 from \"web3\";\n\nconst getWeb3 = async (provider = null) => {\n\n  if (window.ethereum) {\n    const web3 = new Web3(window.ethereum);\n    try {\n      // Request account access if needed\n      await window.ethereum.enable()\n      // Acccounts now exposed\n      return (web3);\n    } catch (error) {\n      console.log(error);\n      return (error);\n    }\n  }\n  // Legacy dapp browsers...\n  else if (window.web3) {\n    // Use Mist/MetaMask's provider.\n    const web3 = window.web3;\n    //console.log(\"Injected web3 detected.\");\n    return (web3);\n  }\n  // Fallback to localhost provider if provided.\n  else if (provider) {\n    const LoadProvider = new Web3.providers.HttpProvider(\n      provider\n    );\n    const web3 = new Web3(LoadProvider);\n    return (web3);\n  } else {\n    return alert('Fail to load web3 Account, Please Install/Login to MetaMask')\n  }\n}\n\nexport default getWeb3;\n","import React from 'react';\n\nexport const failWeb3Msg = 'Wrong Network selection or MetaMask not installed, try selecting different network or login/install MetaMask';\n\n//It will be only used on live production.\nexport const wrongNetMsg = 'This contract is not deployed on this network. Please switch to one of the following network: Ropsten, Rinkeby or Kovan.'\n\nexport function hasKey(obj, key) {\n  if (obj.hasOwnProperty(key))\n    return true;\n  return false;\n}\n\nexport function accessMsg(step) {\n  return (\n    <div>\n      <p> Complete Step:{step} to access this content.</p>\n    </div>\n  );\n}\n\nexport function proceedMsg(step) {\n  return (\n    <div>\n      <p><i>Click Next to proceed to {step} below.</i></p>\n    </div>\n  );\n}\n\nexport function isEmpty(obj) {\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop))\n      return false;\n  }\n  return true;\n}\n\nexport function makeSignerList(signerInfo) {\n  let signerList = [];\n  for (let i = 0; i < signerInfo.length; i++) {\n    if (!signerInfo[i].error && signerInfo[i].address.length > 0) {\n      signerList.push(signerInfo[i].address);\n    };\n  }\n  return signerList;\n}\n\nexport function networkCheck(id) {\n  if (id !== 3 && id !== 4 && id !== 42) {\n      return false;\n  } else {\n      return true;\n  }\n}\n\n\n","import SignTheDoc from \"../contracts/SignTheDoc.json\";\nimport getWeb3 from \"../utils/getWeb3\";\nimport { networkCheck, wrongNetMsg } from '../utils/helper';\n\nexport const loadWeb3 = async (updateLoadWeb3, liveProd = false) => {\n    try {\n        const web3 = await getWeb3();\n\n        if (!web3) {\n            return console.log('MetaMask not detected')\n        }\n\n        const networkId = await web3.eth.net.getId();\n\n        //Currently only used for live production(github pages)\n        if (liveProd) {\n            if (!networkCheck(networkId)) {\n                alert(wrongNetMsg);\n                return false;\n            }\n        }\n\n        const deployedNetwork = SignTheDoc.networks[networkId];\n\n        const instance = new web3.eth.Contract(\n            SignTheDoc.abi,\n            deployedNetwork && deployedNetwork.address,\n        );\n\n        const account = await web3.eth.getCoinbase();\n\n        let loadWeb3 = {};\n\n        loadWeb3.web3 = web3;\n        loadWeb3.networkId = networkId;\n        loadWeb3.deployedNetwork = deployedNetwork;\n        loadWeb3.contract = instance;\n        loadWeb3.account = account;\n\n        updateLoadWeb3(loadWeb3);\n\n        return true;\n\n    } catch (e) {\n        return e\n    }\n}\n\nexport const checkWeb3 = async (context) => {\n    if ((typeof window.ethereum == 'undefined') || (typeof window.web3 !== 'undefined')) {\n        return await loadWeb3(context.updateLoadWeb3);\n    }\n\n    let web3 = context.loadWeb3.web3;\n    let contract = context.loadWeb3.contract;\n    let account = context.loadWeb3.account;\n\n    if (!web3 || !contract || !account) {\n        return await loadWeb3(context.updateLoadWeb3);\n    }\n\n    return true;\n}\n","import React from 'react';\nimport { MainContext } from '../context/MainContext';\n\nclass NextButton extends React.Component {\n\n    updateMainContext = () => {\n        const context = this.context;\n        const toUpdate = this.props.toUpdate;\n        context.updateNextButton(toUpdate);\n    }\n\n    render() {\n        const toUpdate = this.props.toUpdate;\n        const btnDisable = this.context[toUpdate].nextBtn.disable;\n        return (\n            <div>\n                <button onClick={this.updateMainContext} disabled={btnDisable}>Next>></button>\n            </div>\n        );\n    }\n}\n\nexport default NextButton;\n\nNextButton.contextType = MainContext;\n","async function isHashUnique(contract, account, hash) {\n\n    const getDocData = await contract.methods.getDocData(hash)\n        .call({ from: account });\n\n    if (getDocData && getDocData.docHash === hash) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\nexport default isHashUnique;\n\n","import React from \"react\";\nimport { keccak256 } from 'js-sha3';\nimport { MainContext } from '../context/MainContext';\nimport { checkWeb3 } from '../utils/initWeb3';\nimport { proceedMsg, failWeb3Msg } from '../utils/helper';\nimport NextButton from \"./NextButton\";\nimport isHashUnique from '../utils/hashUnique';\n\n\nclass FileToHash extends React.Component {\n  state = {\n    progress: ''\n  }\n\n  userConsent = (event) => {\n    const context = this.context;\n    const { hashOutput } = context.hashFile;\n\n    const file = event.target.files[0];\n\n    if (hashOutput && file) {\n      if (window.confirm('Warning: All entered data will be reset')) {\n        this.handleChange(event);\n      }\n    } else if (!hashOutput) {\n      this.handleChange(event);\n    }\n  }\n\n  handleChange = (event) => {\n    let reader = new FileReader();\n    const file = event.target.files[0];\n\n    if (!file) {\n      return alert('Please select at least one file.')\n    }\n\n    const batch = 1024 * 1024 * 2;\n    let start = 0;\n    let fileName = file.name;\n    const total = file.size;\n    let current = keccak256;\n    const self = this;\n\n    let end;\n\n    reader.onload = function (event) {\n      try {\n        current = current.update(event.target.result);\n        asyncUpdate();\n      } catch (e) {\n        console.log('error', e)\n      }\n    };\n\n    var asyncUpdate = function () {\n      if (total === 0) {\n        return alert(\"Current uploaded file is empty.File size needs to be greater than 0 byte\");\n      } else if (start < total && total > 0) {\n        let progressInfo = `hashing...${(start / total * 100).toFixed(2)} %`;\n        self.setState({\n          progress: progressInfo\n        });\n        end = Math.min(start + batch, total);\n        reader.readAsArrayBuffer(file.slice(start, end));\n        start = end;\n      } else {\n        const hashOutput = '0x' + current.hex();\n        self.setState({\n          progress: '100%'\n        }, () => self.updateMainContext(hashOutput, fileName, null));\n      }\n    };\n    asyncUpdate();\n  }\n\n  updateMainContext = async (hashOutput, fileName, nextBtnValue) => {\n    await checkWeb3(this.context);\n\n    const { web3, contract, account } = this.context.loadWeb3;\n\n    if (!web3) {\n      return console.log(failWeb3Msg);\n    }\n\n    try {\n      const unique = await isHashUnique(contract, account, hashOutput);\n\n      if (!unique) {\n        return alert(`Current file Hash already exist on the network.Someone has already deployed hash of this file.Hash must be unique.Please choose different file or modifiy the content of the file slightly to produce different hash and try again.`);\n      }\n\n      if (unique) {\n        this.context.updateHashOutput(hashOutput, fileName, nextBtnValue);\n      }\n\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const complete = '100%';\n    const hashOutput = this.context.hashFile.hashOutput;\n\n    let progress = this.state.progress;\n    let showProgress;\n\n    if (progress && progress !== complete) {\n      showProgress = (\n        <div>\n          <p>Progress: {this.state.progress}</p>\n        </div>\n      );\n    } else if ((progress === complete) && hashOutput) {\n      showProgress = (\n        <div>\n          <p>Progress: {this.state.progress}</p>\n          <p><strong>Hash generated: {hashOutput}></strong></p>\n          {proceedMsg('Step2')}\n          <NextButton toUpdate=\"hashFile\" />\n        </div>\n      );\n    } else {\n      progress = null;\n    }\n\n    return (\n      <div>\n        <form>\n          <label>\n            Select a File:\n          <input type=\"file\" onChange={this.userConsent}\n              onClick={(event) => {\n                event.target.value = null\n              }} />\n          </label>\n        </form>\n        <div>\n          {showProgress}\n        </div>\n      </div>\n    );\n  }\n}\n\nFileToHash.contextType = MainContext;\nexport default FileToHash;\n","\nfunction isAddressValid(address) {\n  const myRe = /^0x[a-fA-F0-9]{40}$/;\n  if (myRe.test(address)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction hasSpace(address) {\n  const myRe = /\\s/g;\n  if (myRe.test(address)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction isAddressUnique(signerInfo, address) {\n  for (let i = 0; i < signerInfo.length; i++) {\n    if (signerInfo[i].address === address) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction allCaps(address) {\n  if (/^(0x)?[0-9A-F]{40}$/.test(address)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction allLower(address) {\n  if (/^(0x)?[0-9a-f]{40}$/.test(address)) {\n    return true;\n  }\n  return false;\n}\n\nfunction validateForm(web3, address, state) {\n  //remove any first and last space\n  const signerAddress = address.trim();\n  const prefix = signerAddress.slice(0, 2);\n\n  if (address.length === 0) {\n    return {\n      errorMsg: '',\n      anyError: true\n    };\n  } else if (prefix !== \"0x\") {\n    return {\n      errorMsg: 'Address must start with 0x prefix.',\n      anyError: true\n    };\n  } else if (hasSpace(signerAddress)) {\n    return {\n      errorMsg: 'Address should not contain any space character.',\n      anyError: true\n    };\n  } else if (address.length !== 42) {\n    return {\n      errorMsg: 'Address length should be 42 including 0x prefix at the front.',\n      anyError: true\n    }\n  } else if (!isAddressValid(signerAddress)) {\n    return {\n      errorMsg: 'Address should be in correct hex format.',\n      anyError: true\n    };\n  } else if (allCaps(address)) {\n    return {\n      errorMsg: 'All capital letter hex address is not supported.',\n      anyError: true\n    }\n  } else if (allLower(address)) {\n    return {\n      errorMsg: 'All small letter hex address is not supported.',\n      anyError: true\n    }\n  } else if (!web3.utils.checkAddressChecksum(address)) {\n    return {\n      errorMsg: 'Invalid Address, checksum failed.',\n      anyError: true\n    };\n  } else if (state.length > 1) {\n    if (!isAddressUnique(state, signerAddress)) {\n      return {\n        errorMsg: `duplicate address ${signerAddress} already exist.`,\n        anyError: true\n      };\n    }\n  } else {\n    return {\n      errorMsg: false,\n      anyError: false\n    };\n  }\n}\n\nexport default validateForm;\n","import React from 'react';\nimport { MainContext } from '../context/MainContext';\n\nfunction hasKey(obj, key) {\n  if (obj.hasOwnProperty(key))\n    return true;\n  return false;\n}\n\nfunction setRestFalse(obj, setKey) {\n  for (var key in obj) {\n    if (key !== setKey) {\n      obj[key] = false\n    }\n  }\n  return obj;\n}\n\nclass checkbox extends React.Component {\n\n  handleInputChange = (event) => {\n    const context = this.context;\n    // Replace the content here\n    const checkboxName = this.props.checkboxName;\n    let checkbox = { ...context[checkboxName].checkbox.values };\n    const name = event.target.name;\n\n    let newState;\n\n    if (!checkbox) {\n      newState = {\n        [name]: true\n      }\n      this.updateCheckBoxContext(newState);\n    } else if (!hasKey(checkbox, name)) {\n      checkbox[name] = true;\n      newState = setRestFalse(checkbox, name);\n      this.updateCheckBoxContext(newState);\n    } else if (!checkbox[name]) {\n      checkbox[name] = true;\n      newState = setRestFalse(checkbox, name);\n      this.updateCheckBoxContext(newState);\n    }\n  }\n\n  updateCheckBoxContext = (data) => {\n    const context = this.context;\n    const updateFunction = this.props.updateFunction;\n    context[updateFunction](data);\n  }\n\n  render() {\n    // Receive function through props from Context Provider to update Main Context State\n    const checkboxName = this.props.checkboxName;\n    const checkbox = this.context[checkboxName].checkbox;\n\n    // Get checkbox label name.\n    const firstLabel = checkbox.name.firstLabel;\n    const secondLabel = checkbox.name.secondLabel;\n\n    // Store checkbox respective value.\n    let firstValue = checkbox.values[firstLabel];\n    let secondValue = checkbox.values[secondLabel];\n\n    return (\n      <div>\n        <form>\n          <label>\n            {firstLabel}\n            <input\n              name={firstLabel}\n              type=\"checkbox\"\n              checked={firstValue ? firstValue : false}\n              onChange={this.handleInputChange} />\n          </label>\n          <br />\n          <label>\n            {secondLabel}\n            <input\n              name={secondLabel}\n              type=\"checkbox\"\n              checked={secondValue ? secondValue : false}\n              onChange={this.handleInputChange} />\n          </label>\n          <br />\n        </form>\n      </div>\n    );\n  }\n}\n\ncheckbox.contextType = MainContext;\n\nexport default checkbox;\n","import { hasKey } from './helper';\n\nexport function getCheckbox(context, key, label) {\n    if (hasKey(context, key)) {\n        const chkBoxNames = context[key].checkbox.name;\n        if (hasKey(chkBoxNames, label)) {\n            const loadName = context[key].checkbox.name[label]\n            const chkBoxVal = context[key].checkbox.values[loadName]\n            return chkBoxVal;\n        } else {\n            throw new Error(`${label} key not found`);\n        }\n    } else {\n        throw new Error(`${key} not found`)\n    }\n}\n\n","import React from \"react\";\nimport { MainContext } from '../context/MainContext';\nimport validateForm from '../utils/validateForm';\nimport { accessMsg } from '../utils/helper';\nimport Checkbox from './Checkbox';\nimport NextButton from './NextButton';\nimport { getCheckbox } from '../utils/getContextValues';\n\n// Signer address Information is stored as object inside array.\n// Object contains two keys, address and error. e.g {address:'0x23...', error:true}\n// Error key is set to true/false during address form validation.\n\nfunction hasError(arrObj) {\n  const length = arrObj.length;\n  let hasError;\n  if (length) {\n    for (let i = 0; i < length; i++) {\n      if (arrObj[i].error === true) {\n        hasError = true;\n        return hasError;\n      }\n    }\n  }\n  hasError = false;\n  return hasError;\n}\n\nclass signerListForm extends React.Component {\n\n  handleChange = (e) => {\n    const context = this.context;\n    const { web3 } = context.loadWeb3;\n    let slf = { ...context.signerListForm };\n    const targetId = e.target.dataset.id;\n\n    // Form className is 'address'\n    const className = e.target.className;\n    const error = 'error';\n    const address = e.target.value;\n    const validate = validateForm(web3, address, slf.signerInfo);\n    slf.signerInfo[targetId][className] = address.trim();\n    slf.signerInfo[targetId][error] = validate.errorMsg;\n    slf.anyError = validate.anyError;\n    slf.nextBtn.value = false;\n    slf.nextBtn.disable = false;\n    this.updateMainContext(slf);\n  }\n\n  updateMainContext = (data) => {\n    const context = this.context;\n    context.updateSignerListForm(data);\n  }\n\n  checkBoxLogic = () => {\n\n    const context = this.context;\n\n    const slFirstValue = getCheckbox(context, 'signerListForm', 'firstLabel')\n    // const slFirstLabel = slf.checkbox.name.firstLabel;\n    // const slFirstValue = slf.checkbox.values[slFirstLabel];\n\n    //signerListForm(slf)\n    let slf = { ...context.signerListForm };\n\n    if (slFirstValue && slf.signerInfo.length === 0) {\n\n      // Form initialization process.\n      // Error key is set to true because empty address is consider invalid.\n      const newField = { address: '', error: true };\n\n      // Display first input field.\n      slf.signerInfo = [...slf.signerInfo, newField];\n\n      // Show Add New Signer button.\n      slf.displayAddBtn = true;\n      slf.openSig = false;\n      this.updateMainContext(slf);\n    }\n  }\n\n  addAddress = (e) => {\n    // SignerListForm(slf)\n    let slf = { ...this.context.signerListForm };\n    // Disable Add New Button.\n    // It will be set to false if entered address is valid.\n    slf.anyError = true;\n    slf.nextBtn.value = false;\n    slf.nextBtn.disable = false;\n\n    const newField = { address: '', error: true };\n    slf.signerInfo = [...slf.signerInfo, newField];\n\n    this.updateMainContext(slf);\n  }\n\n  // Delete button logic\n  deleteAddress = (e) => {\n    let context = this.context;\n    let signerListForm = { ...context.signerListForm }\n    let signerInfo = [...signerListForm.signerInfo];\n    signerInfo.splice(e.target.dataset.id, 1);\n    signerListForm.signerInfo = signerInfo;\n\n    // This conidition will execute if the user delete the last remaining address by pressing delete button.\n    if (signerInfo.length === 0) {\n      // Hide Add New Signer button.\n      signerListForm.displayAddBtn = false;\n\n      // Disable Add New Signer button.\n      signerListForm.anyError = true;\n\n      // Reset SignerListForm checkbox values.\n      signerListForm.checkbox.values = {};\n\n      this.updateMainContext(signerListForm);\n\n    } else {\n      const errorExist = hasError(signerInfo);\n      if (!errorExist) {\n        signerListForm.anyError = false;\n      }\n      this.updateMainContext(signerListForm);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n  }\n\n  render() {\n    const context = this.context;\n    const slSecondValue = getCheckbox(context, 'signerListForm', 'secondLabel')\n    let { signerInfo, anyError, displayAddBtn } = context.signerListForm\n    let addNewBtn;\n    let nextBtn;\n    let proceedMsg;\n\n    if (displayAddBtn) {\n      addNewBtn = <button id=\"add-new-btn\" onClick={this.addAddress} disabled={anyError}>Add new signer</button>\n    } else {\n      addNewBtn = null;\n    }\n\n    if (slSecondValue) {\n      proceedMsg = 'Proceed to Step4 below.';\n    } else {\n      proceedMsg = null;\n    }\n\n    // Show/Hide confirm button.\n    if (signerInfo.length > 0 && !hasError(signerInfo)) {\n      nextBtn = (\n        <div>\n          <p>Continue updating address or Click Next to proceed to Step4 below.</p>\n          <NextButton toUpdate='signerListForm' />\n        </div>\n      )\n    } else {\n      nextBtn = null;\n    }\n\n    const signHashNxtBtn = context.signHash.nextBtn;\n\n    let signerListRender;\n    if (signHashNxtBtn.value) {\n      signerListRender = (\n        <div>\n          <Checkbox checkboxName='signerListForm' updateFunction='updateSignerListCheckBox' />\n          <br />\n        </div>\n      );\n    } else {\n      signerListRender = accessMsg('2');\n    }\n\n    const emptyErr = (\n      <span style={{ color: \"red\" }}>Address field should not be empty, please delete or enter correct address</span>\n    );\n\n    const addressForm = (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          {\n            signerInfo.map((val, idx) => {\n              const signerId = `signer-${idx}`;\n              return (\n                <div key={idx}>\n                  <label htmlFor={signerId}>{`signer #${idx + 1}`}</label>\n                  <input\n                    type=\"text\"\n                    name={signerId}\n                    data-id={idx}\n                    id={signerId}\n                    placeholder=\"ethereum address\"\n                    value={signerInfo[idx].address}\n                    className=\"address\"\n                    onChange={this.handleChange}\n                  />\n                  {signerInfo.length >= 0 ? (\n                    <button data-id={idx} id={`btn-${signerId}`} className='del-btn' onClick={this.deleteAddress} >Delete</button>\n                  ) : (\n                      null\n                    )}\n                  <br />\n                  <span id={`error-${idx}`} style={{ color: \"red\" }}>{signerInfo[idx].error}</span>\n                  {signerInfo[idx].address.length === 0 ? emptyErr : null}\n                </div>\n              );\n            })\n          }\n        </form>\n        <div id=\"add-new-btn\">\n          {addNewBtn}\n        </div>\n        <div>\n        </div>\n      </div>\n    )\n    return (\n      <div>\n        {signerListRender}\n        {addressForm}\n        {nextBtn}\n        {proceedMsg}\n      </div>\n    );\n  }\n}\n\nsignerListForm.contextType = MainContext;\n\nexport default signerListForm;\n","import React from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport { MainContext } from '../context/MainContext';\nimport moment from 'moment';\nimport Checkbox from './Checkbox';\nimport { accessMsg, proceedMsg } from '../utils/helper';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport NextButton from \"./NextButton\";\n\nimport { getCheckbox } from '../utils/getContextValues';\n\nclass ExpiryDate extends React.Component {\n  handleChange = (date) => {\n    const context = this.context;\n    var inputDate = moment(date);\n    let expiryDate = { ...context.expiryDate };\n    expiryDate.selectedDate = inputDate.toDate();\n    expiryDate.unixDate = moment(date).unix();\n    context.updateExpiryDate(expiryDate);\n  }\n\n  handleClick = () => {\n    const context = this.context;\n    const { expiryDate } = context;\n    context.updateExpiryDate(expiryDate);\n  }\n\n  render() {\n    //Expiry date checkbox values.\n    const context = this.context\n    const { expiryDate } = this.context;\n\n    //Expiry Date CheckBox label 'yes' of expiryDate checkbox\n    const exFirstValue = getCheckbox(context, 'expiryDate', 'firstLabel');\n    //Expiry DAte Checkbox label 'no' of expiryDate checkbox.\n    const exSecondValue = getCheckbox(context, 'expiryDate', 'secondLabel');\n\n    const slSecondValue = getCheckbox(context, 'signerListForm', 'secondLabel');\n\n    //SignerList checkbox values.\n    const slf = this.context.signerListForm;\n\n    const slNextBtn = slf.nextBtn.value;\n\n    let selectedDate;\n    let showNext;\n    let dateField;\n    let showCheckbox;\n    let currentDate = moment().toDate();\n\n    if (slSecondValue || slNextBtn) {\n      showCheckbox = (\n        <div>\n          <Checkbox checkboxName='expiryDate' updateFunction='resetExpiryDate' />\n        </div>\n      );\n    } else {\n      showCheckbox = accessMsg('3');\n    }\n\n    //Update the DatePicker field with selected date.\n    //Initial date with be current date.\n    if (expiryDate.selectedDate) {\n      selectedDate = expiryDate.selectedDate;\n    } else {\n      selectedDate = moment().toDate();\n    }\n\n    //When ExpiryDate component checkboxy label 'yes' is selected.\n    if (exFirstValue) {\n      dateField = (\n        <div>\n          <div>\n            <p>Please select the expiry date.</p>\n          </div>\n          <DatePicker\n            selected={selectedDate}\n            onChange={this.handleChange}\n            showTimeSelect\n            timeFormat=\"h:mm\"\n            timeIntervals={15}\n            dateFormat=\"d/MM/yyyy h:mm aa\"\n            minDate={currentDate}\n            timeCaption=\"time\"\n          />\n        </div>\n      );\n    } else {\n      dateField = null;\n    }\n\n    //Entered date is converted to unix time stamp and recorded into the contract.\n    const nextBtn = <NextButton toUpdate='expiryDate' />\n    if (expiryDate.unixDate && exFirstValue) {\n      const expiryDate = moment(selectedDate).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\n      showNext = (\n        <div>\n          <p>Expiry Date: <strong>{expiryDate}</strong></p>\n          <p>Unix timestamp: <strong>{expiryDate.unixDate}</strong></p>\n          {proceedMsg('Step4')}\n          {nextBtn}\n        </div>\n      );\n    } else if (exSecondValue) {\n      showNext = (\n        <div>\n          {proceedMsg('Step4')}\n          {nextBtn}\n        </div>\n      );\n    }\n    return (\n      <div>\n        {showCheckbox}\n        {dateField}\n        {showNext}\n      </div >\n    );\n  }\n}\n\nExpiryDate.contextType = MainContext;\n\nexport default ExpiryDate;\n","async function getSignData(web3, docHash, account) {\n  var signature = await web3.eth.personal.sign(docHash, account, null);\n\n  //Remove 0x prefix\n  signature = signature.substr(2);\n  const r = '0x' + signature.slice(0, 64)\n  const s = '0x' + signature.slice(64, 128)\n  const v = '0x' + signature.slice(128, 130)\n  var v_decimal = web3.utils.toDecimal(v)\n\n  //add 0x prefix\n  signature = '0x' + signature;\n\n  if (v_decimal < 27) {\n    v_decimal += 27;\n  }\n\n  if (v_decimal !== 27 && v_decimal !== 28) {\n    return {\n      error: new Error('V should be either 27 or 28')\n    }\n  }\n\n  return {\n    r: r,\n    s: s,\n    v: v_decimal,\n    docHash: docHash,\n    signature: signature\n  }\n}\n\nexport default getSignData;\n","import React from \"react\";\nimport getSignData from '../utils/getSignData';\nimport { MainContext } from \"../context/MainContext.js\";\nimport { accessMsg, proceedMsg, failWeb3Msg } from '../utils/helper';\nimport { checkWeb3 } from '../utils/initWeb3';\n\nimport NextButton from './NextButton';\n\nclass SignHash extends React.Component {\n\n  handleClick = async (e) => {\n    await checkWeb3(this.context);\n    const { web3 } = this.context.loadWeb3;\n\n    if (!web3) {\n      return console.log(failWeb3Msg);\n    }\n\n    const hashOutput = this.context.hashFile.hashOutput;\n    if (!hashOutput) {\n      return alert('Please visit step:1 and choose the file');\n    }\n\n    const currentAccount = await web3.eth.getCoinbase();\n\n    const signData = await getSignData(web3, hashOutput, currentAccount);\n\n    if (!signData.signature) {\n      return alert('Please follow the instruction carefully');\n    }\n\n    this.context.updateSignHash(signData, currentAccount);\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n  }\n\n  render() {\n    const context = this.context;\n    const signature = context.signHash.signData.signature;\n    const fileName = context.hashFile.fileName;\n\n    const hashFile = context.hashFile;\n\n    let signHash;\n    let showResult;\n\n    if (signature) {\n      showResult = (\n        <div>\n          <p>SignedData: {hashFile.hashOutput}</p>\n          <p>Signature: <strong>{signature}</strong></p>\n          <p><i>Signing Process Success:</i></p>\n          {proceedMsg('Step3')}\n          <NextButton toUpdate=\"signHash\" />\n        </div>\n      );\n    } else {\n      showResult = null;\n    }\n\n    if (hashFile.nextBtn.value && !signature) {\n      signHash = (\n        <div>\n          <p><strong>Click sign</strong> below to sign the calculated hash of the file name: <strong>{fileName}</strong></p>\n          <p>Calculated Hash:<strong>{hashFile.hashOutput}</strong></p>\n          <div>\n            <button id='sign-hash' onClick={this.handleClick}> Sign </button>\n          </div>\n        </div>\n      );\n    } else if (!hashFile.nextBtn.value && !signature) {\n      signHash = accessMsg('1');\n    }\n    return (\n      <div>\n        {signHash}\n        {showResult}\n      </div>\n    );\n  }\n}\n\nSignHash.contextType = MainContext;\nexport default SignHash;\n","import React from 'react';\n\nimport { MainContext } from '../context/MainContext';\nimport { makeSignerList, failWeb3Msg } from '../utils/helper';\nimport { checkWeb3 } from '../utils/initWeb3';\nimport { accessMsg } from '../utils/helper';\nimport { withRouter } from 'react-router-dom';\nimport { getCheckbox } from '../utils/getContextValues';\n\nimport moment from 'moment'\n\nclass VerifyAndDeploy extends React.Component {\n\n  deploy = async () => {\n\n    //This context is used for check purpose only during web3 initialization.\n    const currentContext = this.context;\n\n    await checkWeb3(currentContext);\n\n    //loading updated new context context\n    const context = this.context;\n    const { web3, contract, networkId } = context.loadWeb3;\n\n    if (!web3) {\n      return console.log(failWeb3Msg);\n    }\n\n    const { account, signData } = context.signHash;\n\n    const { signerInfo } = context.signerListForm;\n    const signerList = makeSignerList(signerInfo);\n\n    const expiryDate = context.expiryDate;\n    const exFirstValue = getCheckbox(context, 'expiryDate', 'firstLabel');\n    const exSecondValue = getCheckbox(context, 'expiryDate', 'secondLabel');\n\n    if (exFirstValue) {\n      const currentDate = moment().toDate();\n      const selectedDate = moment(expiryDate.selectedDate);\n      const diffInMinutes = selectedDate.diff(currentDate, 'minutes');\n\n      if (diffInMinutes < 5 && diffInMinutes > 0) {\n        alert('Document should be atleast open for 5 minutes. Please choose longer expiry date`');\n        context.resetExpiryDate({});\n        return;\n      } else if (diffInMinutes <= 0) {\n        alert('Provided expiry date is less then current date. Plese choose longer expiry date.');\n        context.resetExpiryDate({});\n        return;\n      }\n    }\n\n    const deployAccount = await web3.eth.getCoinbase();\n\n    //  Account used for deployment of this contract must be same for the account used for signing the hash of the file.\n\n    if (deployAccount !== account) {\n      const wrongAccMsg = `Account used for signing the document and deployment of this contract should be same.\\n\n      This issue is probably caused by switching to different account at Metamask. Press Ok to re-sign the document or press cancel to reselect the account`;\n      \n      if (window.confirm(wrongAccMsg)) {\n        //Send to step1: to re sign the document.\n        return context.updateHashOutput(context.hashFile.hashOutput);\n      } else {\n        return;\n      }\n    }\n\n    let finalExpDate;\n    if (exSecondValue) {\n      finalExpDate = 0;\n    } else {\n      finalExpDate = expiryDate.unixDate;\n    }\n\n    contract.methods.createDocToSign(\n      finalExpDate,\n      signData.signature,\n      signerList,\n      signData.docHash,\n      signData.r,\n      signData.s,\n      signData.v\n    ).send({ from: account })\n      .on('transactionHash', (hash) => {\n        this.props.history.push({\n          pathname: '/status',\n          web3: web3,\n          hash: hash,\n          networkId: networkId,\n          redirect: true\n        });\n      }).catch((error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    // //Expiry date checkbox values.\n    const context = this.context;\n\n    const exFirstValue = getCheckbox(context, 'expiryDate', 'firstLabel');\n    const exSecondValue = getCheckbox(context, 'expiryDate', 'secondLabel');\n\n    const slFirstValue = getCheckbox(context, 'signerListForm', 'firstLabel');\n    const slSecondValue = getCheckbox(context, 'signerListForm', 'secondLabel');\n\n    const expDate = context.expiryDate;\n    const exNextBtn = context.expiryDate.nextBtn.value;\n\n    let renderHashOutput\n    let renderAccount;\n    let renderSignature;\n    let renderSignerList;\n    let renderDate;\n    let deploy;\n    let blockMsg;\n    // let accessMsg;\n\n    if (!exNextBtn) {\n      blockMsg = accessMsg(4);\n    } else if (exNextBtn) {\n      blockMsg = null;\n\n      const hashOutput = context.hashFile.hashOutput;\n      if (hashOutput) {\n        renderHashOutput = (\n          <section>\n            <h4>Hash Output:</h4>\n            {hashOutput}\n          </section>\n        );\n      }\n\n      const account = context.signHash.account;\n      if (account) {\n        renderAccount = (\n          <section>\n            <h4>Creator Account:</h4>\n            {account}\n          </section>\n        );\n      }\n\n      const signature = context.signHash.signData.signature;\n      if (signature) {\n        renderSignature = (\n          <section>\n            <h4>Signature:</h4>\n            {signature}\n          </section>\n        );\n      }\n\n      const signerInfo = context.signerListForm.signerInfo;\n      if (signerInfo.length > 0 && slFirstValue) {\n        renderSignerList = (\n          <section>\n            <h4>Authorised Signers:</h4>\n            <i>Only following authorised signers can sign this document.</i>\n            <ul>\n              {signerInfo.map((signer, index) => {\n                return (\n                  <li key={index.toString()}>{signer.address}</li>\n                )\n              })\n              }\n            </ul>\n          </section>\n        );\n      } else if (slSecondValue) {\n        renderSignerList = (\n          <section>\n            <h4>Authorised Signers:</h4>\n            <p>Authorised Signers not provided. Document can be sign by any one. </p>\n          </section>\n        );\n      } else {\n        renderSignerList = null;\n      }\n\n      //Expiry date checkbox label 'yes' is selected to include date.\n      if (exFirstValue && expDate) {\n        const selectedDate = context.expiryDate.selectedDate;\n        const dateFormat = moment(selectedDate).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\n\n        renderDate = (\n          <section>\n            <article>\n              <h4>Expiry date:</h4>\n              <p>{dateFormat}</p>\n            </article>\n\n            <article>\n              <h4>Unix timestamp:</h4>\n              <p>{context.expiryDate.unixDate}</p>\n            </article>\n          </section>\n        )\n      } else if (exSecondValue) {\n        renderDate = (\n          <section>\n            <article>\n              <h4>Expiry date:</h4>\n              <p>Expiry date not provided. Document is open for signing indefinetly.</p>\n            </article>\n          </section>\n        );\n      }\n\n      deploy = (\n        <div>\n          <button onClick={this.deploy}>Deploy</button>\n        </div>\n      );\n    }\n    return (\n      <div>\n        {blockMsg}\n        {renderHashOutput}\n        {renderAccount}\n        {renderSignature}\n        {renderSignerList}\n        {renderDate}\n        {deploy}\n      </div>\n    );\n  }\n}\n\nVerifyAndDeploy.contextType = MainContext;\n\n//Create Array \nexport default withRouter(VerifyAndDeploy);","import React from 'react';\nimport metaMaskLogo from './metaMaskLogo.png'\n\nexport default function DownloadMetaMask() {\n    return (\n        <div>\n            <p>Please install web3 client METAMASK to continue..</p>\n            <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <img src={metaMaskLogo} alt=\"MetaMask logo\"  style={{width:'150px', height:'50px'}}/>\n            </a>\n        </div>\n    );\n}","import React from 'react';\n\nimport FileToHash from './FileToHash';\nimport SignerListForm from './SignerListForm';\nimport ExpiryDate from './ExpiryDate';\nimport SignHash from './SignHash';\nimport VerifyAndDeploy from './VerifyAndDeploy';\nimport DownloadMetaMask from '../shared/DownloadMetaMask';\n\nimport { MainContext } from '../context/MainContext';\nimport { checkWeb3 } from '../utils/initWeb3';\n\nclass DeployDoc extends React.Component {\n\n  componentDidMount = async () => {\n    this.context.resetState();\n    await checkWeb3(this.context);\n  }\n\n  render() {\n    if(!window.ethereum) {\n      return (\n        <div>\n         <DownloadMetaMask />\n         </div>\n      );\n    }\n    return (\n      <div>\n        <section>\n          <h3>Step1: Hash The File </h3>\n          <FileToHash />\n        </section>\n        <section>\n          <h3>Step2: Signing process</h3>\n          <SignHash />\n        </section>\n        <section>\n          <h3>Step3: Who can sign the document? </h3>\n          <SignerListForm />\n        </section>\n        <section>\n          <h3>Step4: Include expiry Date? </h3>\n          <ExpiryDate />\n        </section>\n        <section>\n          <h3>Step5: Verify and Deploy </h3>\n          <VerifyAndDeploy />\n        </section>\n      </div >\n    );\n  }\n}\n\nDeployDoc.contextType = MainContext;\nexport default DeployDoc;\n","import React from \"react\";\nimport { keccak256 } from 'js-sha3';\n\nconst initState =  () => {\n  return {\n    progress: '',\n    hashOutput:'',\n    fileName:''\n  }\n}\n\nclass HashFile extends React.Component {\n  state = {\n    ...initState()\n  }\n  \n  \n  componentDidUpdate = (prevProps) => {\n    //Reset the state hash is manually type or provided through input box.\n    if(prevProps.reset !== this.props.reset) {\n      const {hashOutput, progress} = this.state;\n      if(hashOutput && progress) {\n        this.setState({\n          ...initState()\n        });\n      }\n    }\n  }\n\n  userConsent = (event) => {\n    const { hashOutput } = this.state;\n\n    const file = event.target.files[0];\n\n    if (hashOutput && file) {\n      if (window.confirm('Warning: All entered data will be reset')) {\n        this.handleChange(event);\n      }\n    } else if (!hashOutput) {\n      this.handleChange(event);\n    }\n  }\n\n  handleChange = (event) => {\n    const updaterFunc = this.props.updaterFunc;  \n    let reader = new FileReader();\n    const file = event.target.files[0];\n    \n    if (!file) {\n      return;\n    }\n\n    const batch = 1024 * 1024 * 2;\n    let start = 0;\n    const fileName = file.name;\n    const total = file.size;\n    let current = keccak256;\n    const self = this;\n   \n    let end;\n\n    reader.onload = function (event) {\n      try {\n        current = current.update(event.target.result);\n        asyncUpdate();\n      } catch (e) {\n        console.log('error', e)\n      }\n    };\n\n    var asyncUpdate = function () {\n      if (total === 0) {\n        self.setState({\n          error: `file size needs to be greater than 0 byte`\n        });\n      } else if (start < total && total > 0) {\n        let progressInfo = `hashing...${(start / total * 100).toFixed(2)} %`;\n        self.setState({\n          progress: progressInfo\n        });\n        end = Math.min(start + batch, total);\n        reader.readAsArrayBuffer(file.slice(start, end));\n        start = end;\n      } else {\n        const hashOutput = '0x' + current.hex();\n        self.setState({\n          progress: '100%',\n          hashOutput: hashOutput,\n          fileName: fileName\n        }, () => self.updateContextHashOutput(updaterFunc));\n      }\n    };\n    asyncUpdate();\n  } \n\n  updateContextHashOutput = (updaterFunc) => {\n    const { hashOutput, fileName } = this.state;\n    updaterFunc(hashOutput, fileName);\n  }\n\n  render() {\n    const complete = '100%';\n    const { hashOutput } = this.state;\n    let progress = this.state.progress;\n    let showProgress;\n\n    if (progress && progress !== complete) {\n      showProgress = (\n        <div>\n          <p>Progress: {this.state.progress}</p>\n        </div>\n      );\n    } else if ((progress === complete) && hashOutput) {\n      showProgress = (\n        <div>\n          <p>Progress: {this.state.progress}</p>\n        </div>\n      );\n    } else {\n      progress = null;\n    }\n    \n    return (\n      <div>\n        <form>\n          <label>\n            Select a File:\n          <input type=\"file\" onChange={this.userConsent}\n              onClick={(event) => {\n                event.target.value = null\n              }} />\n          </label>\n        </form>\n        <div>\n          {showProgress}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HashFile;\n","\nfunction isHashValid(address) {\n    const myRe = /^0x[a-fA-F0-9]{64}$/;\n    if (myRe.test(address)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction hasSpace(address) {\n    const myRe = /\\s/g;\n    if (myRe.test(address)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction inputHashValid(inputHash) {\n    //remove any first and last space\n    const hash = inputHash.trim();\n    const prefix = hash.slice(0, 2);\n\n    if (hash.length === 0) return true\n    if (prefix !== \"0x\") return 'address must start with 0x prefix.'\n    if (hasSpace(hash)) return 'address should not contain any space character.'\n    if (hash.length !== 66) return 'address length should be 66 including 0x prefix at the front.'\n    if (!isHashValid(hash)) return 'address should be in correct hex format.'\n\n    return false;\n}\n\n\nexport default inputHashValid;\n","import React from 'react';\nimport HashFile from '../shared/HashFile';\nimport { SignInfoConsumer } from '../context/SignInfoProvider';\nimport { SignInfoContext } from '../context/SignInfoContext';\nimport inputHashValid from '../utils/InputHashValid';\nimport { checkWeb3 } from '../utils/initWeb3';\nimport { failWeb3Msg } from '../utils/helper';\n\nclass InputAndGetInfo extends React.Component {\n\n    handleClick = async (hashStateKey) => {\n        const currentContext = this.context;\n\n        await checkWeb3(currentContext);\n\n        //loading updated new context context\n        const context = this.context;\n        const { web3, contract, account } = context.loadWeb3;\n\n        if (!web3) {\n            return console.log(failWeb3Msg);\n        }\n\n        const hashOutput = context[hashStateKey];\n        let docData = { ...this.context.docData };\n\n        const errorMsg = `Provided hash:\\n ${hashOutput},\\n is not deployed on this network, try selecting different network or provide different Hash. If you have just deployed the document please wait for while and try again.\n        `\n        const getData = await contract.methods.getDocData(hashOutput).call({\n            from: account\n        });\n\n        if (!getData.signature) {\n            return alert(errorMsg);\n        } else {\n            docData.docHash = getData.docHash;\n            docData.creatorAddress = getData.creatorAddress;\n            docData.expiryDate = getData.expiryDate;\n            docData.creationDate = getData.creationDate;\n            docData.signature = getData.signature;\n            docData.authorisedSigners = getData.authorisedSigners;\n            docData.whoSigned = getData.whoSigned;\n\n            context.updateDocData(docData);\n        }\n    }\n\n    handleChange = (e) => {\n        const context = this.context;\n        const hashValue = e.target.value;\n        //remove excess space from front and back\n        const trimValue = hashValue.trim();\n        const validate = inputHashValid(trimValue);\n        context.updateInputHash(trimValue, validate);\n    }\n\n    render() {\n        return (\n            <div>\n                <SignInfoConsumer>\n                    {({ inputHash, inputHashError, uploadHash, updateUploadHash }) => (\n                        <div>\n                            <section>\n                                <h4><i>Upload Document/File</i></h4>\n                                <HashFile updaterFunc={updateUploadHash} reset={inputHash} />\n\n                                {uploadHash ? (\n                                    <div>\n                                        <p> Hash generated: <strong>{uploadHash}</strong></p>\n                                        <button onClick={() => this.handleClick(\"uploadHash\")}>Get Info</button>\n                                    </div>\n                                ) : (\n                                        null\n                                    )}\n                            </section>\n                            <section>\n                                <h1> OR </h1>\n                                <label>\n                                    <h4><i>Enter Hash Of The Document/File:</i></h4>\n                                    <input type=\"text\" value={inputHash} style={{ width: \"500px\" }} onChange={this.handleChange} />\n                                </label>\n                                <br />\n                                <span style={{ color: \"red\" }}>{\n                                    (inputHashError && inputHashError !== true) ? (\n                                        \"Error : \" + inputHashError\n                                    ) : (\n                                            null\n                                        )\n                                }\n                                </span>\n                                <br />\n                                {(inputHash && !inputHashError) ? (\n                                    <button name=\"inputHash\" onClick={() => this.handleClick(\"inputHash\")}>Get Info</button>\n                                ) : (\n                                        null\n                                    )}\n                            </section>\n                        </div>\n                    )}\n                </SignInfoConsumer>\n                <br />\n            </div>\n        );\n    }\n}\n\nInputAndGetInfo.contextType = SignInfoContext;\nexport default InputAndGetInfo;\n\n","import React from 'react';\nimport moment from 'moment';\n\nexport const RenderDocInfo = (docData) => {\n\n    return (\n        <div>\n            <table>\n                <tbody>\n                    {docData.signature ? (\n                        Object.keys(docData).map((key, index) => {\n                            const loadData = docData[key];\n                            if (key === \"whoSigned\" && loadData.length > 1) {\n                                return (\n                                    <tr key={index.toString()}>\n                                        <td>{key}</td>\n                                        <td>\n                                            <table>\n                                                <tbody>\n                                                    {loadData.map((signer, index) => {\n                                                        return (\n                                                            <tr key={\"ws\" + index.toString()}>\n                                                                <td>{signer}</td>\n                                                            </tr>\n                                                        );\n                                                    })}\n                                                </tbody>\n                                            </table>\n                                        </td>\n                                    </tr>\n                                );\n                            } else if (key === \"whoSigned\" && loadData.length === 0) {\n                                return (\n                                    <tr key={index.toString()}>\n                                        <td> {key} </td>\n                                        <td>No one has signed yet.</td>\n                                    </tr>\n                                );\n                            }\n\n                            if (key === \"authorisedSigners\" && loadData.length > 1) {\n                                return (\n                                    <tr key={index.toString()}>\n                                        <td>{key}</td>\n                                        <td>\n                                            <table>\n                                                <tbody>\n                                                    {loadData.map((signer, index) => {\n                                                        return (\n                                                            <tr key={\"as\" + index.toString()}>\n                                                                <td>{signer}</td>\n                                                            </tr>\n                                                        )\n                                                    })}\n                                                </tbody>\n                                            </table>\n                                        </td>\n                                    </tr>\n                                );\n                            } else if (key === \"authorisedSigners\" && loadData.length === 0) {\n                                return (\n                                    <tr key={index.toString()}>\n                                        <td>{key}</td>\n                                        <td>Any one can sign(Open Document)</td>\n                                    </tr>\n                                )\n                            }\n\n                            if (key === 'expiryDate' || key === 'creationDate') {\n                                const loadDate = docData[key]\n                                let convertDate;\n\n                                /*\n                                If expiry date is not provided or user decided to deploy document \n                                without expiry date, default value 0 is set, which will open the document\n                                for signing indefinitely.\n                                 */\n                                if (key === 'expiryDate' && loadDate.toNumber() === 0) {\n                                    convertDate = `Expiry Date not included.`\n                                } else {\n                                    convertDate = moment.unix(loadDate.toNumber()).format(\"dddd, MMMM Do YYYY, h:mm:ss a\");\n                                }\n                                return (\n                                    <tr key={index.toString()}>\n                                        <td >{key}</td>\n                                        <td>{convertDate}</td>\n                                    </tr>\n                                );\n                            }\n\n                            return (\n                                <tr key={index.toString()}>\n                                    <td >{key}</td>\n                                    <td>{docData[key]}</td>\n                                </tr>\n                            );\n                        })\n                    ) : (\n                            null\n                        )\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\n","import React from 'react';\n\nimport InputAndGetInfo from '../shared/InputAndGetInfo';\nimport DownloadMetaMask from '../shared/DownloadMetaMask';\n\nimport getSignData from '../utils/getSignData';\n\nimport { SignInfoContext } from '../context/SignInfoContext';\nimport { withRouter } from 'react-router-dom';\nimport { checkWeb3 } from '../utils/initWeb3';\nimport { accessMsg, failWeb3Msg } from '../utils/helper';\nimport { RenderDocInfo } from '../shared/DisplayInfo';\n\nimport moment from 'moment';\n\nclass signDoc extends React.Component {\n\n    componentDidMount = async () => {\n        const { uploadHash, inputHash } = this.context;\n\n        if (uploadHash || inputHash) {\n            this.context.resetState();\n        }\n\n        await checkWeb3(this.context);\n\n        const { web3 } = this.context.loadWeb3;\n\n        if (!web3) {\n            return console.log(failWeb3Msg);\n        }\n    }\n\n    handleClick = async () => {\n        const context = this.context;\n\n        const { web3 } = context.loadWeb3;\n        const { docData, uploadHash, inputHash } = context;\n\n        if (!docData.signature) {\n            return alert(`Could not retrieve deployed document data, try uploading file or enter hash again.`)\n        }\n\n        if (web3 && docData.signature) {\n\n            //Todo\n            //Find simpler method.\n            //web3.eth.getCoinbase method is not suitable, it returns address in lower case format.\n            const allAccounts = await web3.eth.getAccounts();\n            const account = allAccounts[0];\n\n            const currentDate = moment().unix();\n            const expiryDate = docData.expiryDate.toNumber();\n            const diffDate = expiryDate - currentDate;\n\n            if (!account) {\n                return alert('web3 account not detected, try login/install to MetaMask');\n            }\n\n            if (expiryDate > 0 && diffDate < 1) {\n                return alert('Signing time period already expired. This contract is closed for signing.')\n            }\n\n            const authList = docData.authorisedSigners;\n            if (authList.length > 0 && !authList.includes(account)) {\n                return alert(`This account:${account} is not authorised to sign.`)\n            }\n\n            const whoSigned = docData.whoSigned;\n            if (whoSigned.length > 0 && whoSigned.includes(account)) {\n                return alert(`Already signed by this account: ${account}. Multiple signing by same account is not allowed.`)\n            }\n\n            /*Todo:\n                >Need reliable way to detect generated hash on state.\n                >Possibly update the state with hash name and load from it.\n            */\n            let currentHash;\n            if (uploadHash) {\n                currentHash = uploadHash;\n            } else {\n                currentHash = inputHash;\n            }\n\n            const signData = await getSignData(web3, currentHash, account);\n\n            signData.signedAccount = account;\n\n            context.updateSignData(signData);\n        }\n    }\n\n    deployClick = async () => {\n\n        const currentContext = this.context;\n\n        await checkWeb3(currentContext);\n\n        //Loading with new context after checkWeb3 initialize web3 and update state.\n        const { web3, contract, networkId } = this.context.loadWeb3;\n        const { signData } = this.context;\n\n        if (!web3) {\n            return console.log(failWeb3Msg);\n        }\n\n        const allAccounts = await web3.eth.getAccounts();\n        const account = allAccounts[0];\n\n        const { creatorAddress } = this.context.docData;\n\n        //Todo\n        //Find simpler method.\n        //web3.eth.getCoinbase method is suitable, it returns address in lower case format.\n        if (signData.signedAccount !== account) {\n            return alert(`Account used for signing and deployment should be same.\\n\n            Signed Account: ${signData.signedAccount} \\n\n            Trying to deploy with Account: ${account}`)\n        }\n\n        contract.methods.signTheDoc(\n            creatorAddress,\n            signData.docHash,\n            signData.r,\n            signData.s,\n            signData.v,\n            signData.signature,\n        ).send({ from: account })\n            .on('transactionHash', (hash) => {\n                this.props.history.push({\n                    pathname: '/status',\n                    web3: web3,\n                    hash: hash,\n                    networkId: networkId,\n                    redirect: true\n                });\n            }).catch((error) => {\n                alert(JSON.stringify(error));\n            });\n    }\n\n    render() {\n        \n        if (!window.ethereum) {\n            return (\n                <div>\n                    <DownloadMetaMask />\n                </div>\n            );\n        }\n\n        const { docData, signData } = this.context;\n\n        let signProcess;\n\n        if (docData.docHash && docData.signature) {\n            signProcess = (\n                <div>\n                    {RenderDocInfo(docData)}\n                    <p>Click sign if above information is correct</p>\n                    <button onClick={this.handleClick}>Sign</button>\n                </div>\n            )\n        } else {\n            signProcess = accessMsg(1)\n        }\n\n        let deploy;\n        if (signData.docHash && signData.signature) {\n            deploy = (\n                <div>\n                    <p>Hash: {signData.docHash}</p>\n                    <p>Signature:{signData.signature}</p>\n                    <p>Click deploy publish the signature</p>\n                    <button onClick={this.deployClick}>Deploy</button>\n                </div>\n            )\n        } else {\n            deploy = accessMsg(2);\n        }\n        return (\n            <div>\n                <section>\n                    <h3>Step 1: Get Document Information</h3>\n                    <InputAndGetInfo />\n                </section>\n\n                <section>\n                    <h3>Step 2: Verify And Sign </h3>\n                    {signProcess}\n                </section>\n\n                <section>\n                    <h3>Step 3: Verify And Deploy </h3>\n                    {deploy}\n                </section>\n            </div>\n        );\n    }\n}\n\nsignDoc.contextType = SignInfoContext;\nexport default withRouter(signDoc);","import React from 'react';\nimport InputAndGetInfo from '../shared/InputAndGetInfo';\nimport DownloadMetaMask from '../shared/DownloadMetaMask';\n\nimport { RenderDocInfo } from '../shared/DisplayInfo';\nimport { SignInfoContext } from '../context/SignInfoContext';\nimport { checkWeb3 } from '../utils/initWeb3';\nimport { failWeb3Msg } from '../utils/helper';\n\nclass DocInfo extends React.Component {\n    componentDidMount = async () => {\n        const { uploadHash, inputHash } = this.context;\n\n        if (uploadHash || inputHash) {\n            this.context.resetState();\n        }\n\n        await checkWeb3(this.context);\n\n        const { web3 } = this.context.loadWeb3;\n\n        if (!web3) {\n            return console.log(failWeb3Msg);\n        }\n    }\n\n    render() {\n\n        if (!window.ethereum) {\n            return (\n                <div>\n                    <DownloadMetaMask />\n                </div>\n            );\n        }\n\n        const { docData } = this.context;\n        let displayInfo;\n\n        if (docData.docHash && docData.signature) {\n            displayInfo = (\n                <div>\n                    <h4>Deployed Document/File Info:</h4>\n                    {RenderDocInfo(docData)}\n                </div>\n            );\n        } else {\n            displayInfo = null;\n        }\n\n        return (\n            <div>\n                <InputAndGetInfo />\n                {displayInfo}\n            </div>\n        );\n    }\n}\n\nDocInfo.contextType = SignInfoContext;\nexport default DocInfo;\n\n","import React from 'react';\n\nclass Loading extends React.Component {\n    state = {\n        loadingMsg: ''\n    }\n\n    componentDidMount = () => {\n        this.loading = setInterval(() => {\n            let loadingMsg = this.state.loadingMsg;\n            if (!loadingMsg) {\n                loadingMsg = '.';\n            } else if (loadingMsg === '.') {\n                loadingMsg = '..';\n            } else if (loadingMsg === '..') {\n                loadingMsg = '...';\n            } else if (loadingMsg === '...') {\n                loadingMsg = '....'\n            } else {\n                loadingMsg = ''\n            }\n            this.setState({\n                loadingMsg: loadingMsg\n            })\n        }, 100);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.loading);\n    }\n\n    render() {\n        return (\n            <div>\n                <h3>{this.state.loadingMsg}</h3>\n            </div>\n        )\n    }\n}\n\nexport default Loading;","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Loading from './Loading';\n\nasync function getTxData(web3, txHash) {\n    const receipt = await web3.eth.getTransactionReceipt(txHash);\n    return receipt;\n}\n\nfunction idToName(id) {\n    const link = 'etherscan.io';\n    if (id === 1) {\n        return link\n    } else if (id === 3) {\n        return 'ropsten.' + link;\n    } else if (id === 4) {\n        return 'rinkeby.' + link;\n    } else if (id === 42) {\n        return 'kovan.' + link;\n    } else {\n        return 'unknown';\n    }\n}\n\nclass Status extends React.Component {\n    state = {\n        hash: '',\n        web3: '',\n        receipt: '',\n        error: '',\n        network: ''\n    }\n\n    componentDidMount = async () => {\n        const getHash = this.props.location.hash;\n        const hash = getHash.slice(1);\n        const web3 = this.props.location.web3;\n        const self = this;\n        let network;\n\n        if (web3) {\n            network = await web3.eth.net.getNetworkType();\n        }\n\n        if (web3 && hash) {\n            this.timer = setInterval(async function () {\n                getTxData(web3, hash).then((result) => {\n                    if (result) {\n                        clearInterval(self.timer);\n                        self.setState({\n                            web3: web3,\n                            hash: hash,\n                            result: result,\n                            network: network\n                        });\n                    }\n                }).catch((error) => {\n                    clearInterval(self.timer);\n                    self.setState({\n                        web3: web3,\n                        hash: hash,\n                        error: error,\n                        network: network\n                    });\n                })\n            }, 1000);\n        }\n    }\n\n    render() {\n        const state = this.state;\n        const result = state.result;\n        const error = state.error;\n        const networkId = this.props.location.networkId;\n        const getHash = this.props.location.hash;\n        const hash = getHash.slice(1);\n        const redirect = this.props.location.redirect;\n        let networkLink;\n\n        var getNetwork = idToName(networkId);\n        let fullLink;\n\n        if (getNetwork && getNetwork !== 'unknown') {\n            fullLink = `https://${getNetwork}/tx/${hash}`;\n            networkLink = (\n                <div>\n                    <h3>Deployed network link</h3>\n                    <a href={fullLink} target='_blank' rel=\"noopener noreferrer\">{fullLink}</a>\n                </div>\n            );\n\n        } else {\n            networkLink = (\n                <div>\n                    <p> Deployed to unknown or private network</p>\n                </div>\n            );\n        }\n\n        let showLoading;\n\n        if (redirect && !result) {\n            showLoading = (\n                <div>\n                    {networkLink}\n                    <p>Waiting for Transaction Receipt from network</p>\n                    <p>Taking too long..click above link to get additional information.</p>\n                    <Loading />\n                </div>\n            );\n        } else if (redirect && result) {\n            showLoading = (\n                <div>\n                    {networkLink}\n                    <p> Deployment successful </p>\n                </div>\n            );\n        } else if (error) {\n            showLoading = (\n                <div>\n                    <h4>Error:</h4>\n                </div>\n            );\n        } else if (!redirect) {\n            showLoading = (\n                <div>\n                    <h4>Please Proceed to Deploy Document first</h4>\n                    <Link to=\"/deploy\" >Deploy Document </Link>\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                {showLoading}\n                <div>\n                    <table>\n                        <tbody>\n                            {result ? (\n\n                                Object.keys(result).map((key, index) => {\n                                    return (\n                                        <tr key={index.toString()}>\n                                            <td>\n                                                {key} : {result[key]}\n                                            </td>\n                                        </tr>\n                                    );\n                                })\n                            ) : (\n                                    null\n                                )\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Status);\n\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Link, NavLink, Switch } from \"react-router-dom\";\nimport { MainProvider } from './context/MainProvider';\nimport { SignInfoProvider } from './context/SignInfoProvider';\nimport './Main.css'\n\n// COMPONENTS\nimport DeployDoc from './deployDoc/DeployDoc';\nimport signDoc from './signDoc/SignDoc';\nimport DocInfo from './docInfo/DocInfo';\nimport Status from './deployDoc/Status';\n\nimport githubLogo from './githubSmall.png';\n\nfunction Home() {\n    return (\n        <div>\n            <br />\n            <h4>Main Concept:</h4>\n            <p>Deploy Hash of the document/file on Ethereum blockchain and let anyone or only authroised signers(address) to sign the hash of the document thus completing document signature process.</p>\n\n            <h4>Do you want to</h4>\n            <ul >\n                <li><Link to=\"/deploy\">Create And Deploy Document?</Link></li>\n                <li><Link to=\"/sign\">Sign Document?</Link></li>\n                <li><Link to=\"/info\">Get Document Info?</Link></li>\n            </ul>\n\n            <br />\n            <div>\n                <h4>Contract deployed at:</h4>\n                <p>Rinkeby:<a href=\"https://ropsten.etherscan.io/address/0xf82438a3ba0764ce51b58c484f644905da177b1c\" target=\"_blank\" rel=\"noopener noreferrer\">0xf82438a3ba0764ce51b58c484f644905da177b1c</a></p>\n                <p>Ropsten:<a href=\"https://ropsten.etherscan.io/address/0x1CB4E004b2a81045097416C0c6CF42aA0C608e4a\" target=\"_blank\" rel=\"noopener noreferrer\"> 0x1CB4E004b2a81045097416C0c6CF42aA0C608e4a</a></p>\n                <p>Kovan:<a href=\"https://kovan.etherscan.io/address/0xeba2cef3320c34e7873afa6905e17add8011910f\" target=\"_blank\" rel=\"noopener noreferrer\">0x4df4c113f15ad7d20642a4cba34071fb3c55c581</a></p>\n            </div>\n\n            <br />\n            <p>Creator: decentralMind@gmail.com</p>\n            <a href=\"https://github.com/decentralMind/sign-the-doc/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <img src={githubLogo} alt=\"github logo\"/>\n            </a>\n        </div>\n    );\n}\n\nconst Page404 = ({ location }) => (\n    <div>\n        <p>No match found for <code>{location.pathname}</code></p>\n    </div>\n);\n\n/*\n<Router basename={process.env.PUBLIC_URL}>\n\"build\": \"react-scripts build && cp build/index.html build/404.html\",\n*/\n\nconst HomeApp = () => {\n    return (\n        <Router basename={process.env.PUBLIC_URL}>\n            <MainProvider>\n                <SignInfoProvider>\n                    <div>\n                        <header>\n                            <h4 className=\"LogoMargin\">Sign-The-Doc</h4>\n                            <ul className=\"NavMenu\" >\n                                <li><NavLink className=\"MainLinks\" to=\"/\" exact activeClassName=\"ActiveLink\" >Home |</NavLink></li>\n                                <li><NavLink className=\"MainLinks\" to=\"/deploy\" activeClassName=\"ActiveLink\">Deploy Document |</NavLink></li>\n                                <li><NavLink className=\"MainLinks\" to=\"/sign\" activeClassName=\"ActiveLink\">Sign Document |</NavLink> </li>\n                                <li><NavLink className=\"MainLinks\" to=\"/info\" activeClassName=\"ActiveLink\">Get Document Info </NavLink></li>\n                            </ul>\n                        </header>\n                        <Switch>\n                            <Route path=\"/\" exact component={Home} />\n                            <Route path=\"/deploy\" exact component={DeployDoc} />\n                            <Route path=\"/sign\" exact component={signDoc} />\n                            <Route path=\"/info\" exact component={DocInfo} />\n                            <Route path=\"/status\" exact component={Status} />\n                            <Route component={Page404} />\n                        </Switch>\n                        <br />\n                    </div>\n                </SignInfoProvider>\n            </MainProvider>\n        </Router>\n    );\n}\n\nexport default HomeApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport HomeApp from './HomeApp';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <div>\n    <HomeApp/>\n  </div>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}